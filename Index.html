<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Neura — Intelligent Conversations</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg-0: #071029;
      --card: rgba(255,255,255,0.03);
      --muted: #9aa6b2;
      --user-bubble: #dfe6ee;
      --accent-gradient: linear-gradient(90deg, #00f0ff, #00c6b6);
      --radius: 14px;
      --shadow: 0 6px 18px rgba(2,6,23,0.6);
      --max-width: 1000px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:Inter,Poppins,system-ui,-apple-system,"Segoe UI",Roboto,Arial;
      background: radial-gradient(1200px 600px at 10% 10%, rgba(3,12,30,0.6), transparent), linear-gradient(180deg, var(--bg-0), #0b111a 60%);
      color:#e6f3f6; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      padding-bottom:48px;
    }
    a{color:inherit; text-decoration:none}
    header{position:sticky;top:0;z-index:60;backdrop-filter: blur(6px);background: linear-gradient(180deg, rgba(7,16,41,0.55), rgba(7,16,41,0.25));border-bottom:1px solid rgba(255,255,255,0.03)}
    .nav-inner{max-width:var(--max-width);margin:0 auto;display:flex;align-items:center;gap:12px;padding:12px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:48px;height:48px;border-radius:999px;background: conic-gradient(from 210deg at 50% 50%, #012433, #004e6a, #00f0ff);display:flex;align-items:center;justify-content:center;position:relative}
    .brand h1{margin:0;font-size:1rem;font-weight:600;color:#dff8fb}
    nav.desktop{margin-left:auto;display:flex;gap:18px;align-items:center}
    nav.desktop a{padding:8px 10px;border-radius:10px;color:var(--muted);font-weight:500}
    nav.desktop a:hover{color:#e6fbff;background:rgba(255,255,255,0.02)}
    .hamburger{margin-left:auto;display:flex;background:transparent;border:0;color:var(--muted);font-size:18px;gap:8px;align-items:center}
    main{max-width:var(--max-width);margin:28px auto;padding:0 18px;display:block}
    .hero{display:flex;flex-direction:column;gap:18px;align-items:center;text-align:center;padding:28px 12px}
    .hero .title{display:flex;gap:14px;align-items:center}
    .hero .title h2{margin:0;font-size:2rem;letter-spacing:-0.6px;font-weight:700;color:#eafcff}
    .hero p{margin:0;color:var(--muted);max-width:720px;font-size:1rem}
    .chat-wrapper{margin-top:18px;background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:20px;padding:18px;box-shadow:var(--shadow);display:flex;flex-direction:column;gap:12px;min-height:420px;overflow:hidden}
    .chat-inner{display:flex;gap:18px;align-items:stretch;width:100%}
    .left-hero{display:none}
    .chat-panel{flex:1 1 0;display:flex;flex-direction:column;gap:12px;min-height:380px;padding:12px;border-radius:14px;position:relative;overflow:hidden}
    .messages{flex:1 1 auto;overflow:auto;display:flex;flex-direction:column;gap:12px;padding:12px;scroll-behavior:smooth}
    .msg{max-width:82%;padding:10px 12px;border-radius:12px;font-size:0.98rem;line-height:1.35;box-shadow:0 4px 14px rgba(2,6,23,0.45);opacity:0;transform:translateY(6px);animation:fadeInUp 360ms ease forwards}
    .msg .meta{display:flex;gap:8px;align-items:center;font-size:0.78rem;color:var(--muted);margin-top:6px}
    .msg.user{margin-left:auto;background:var(--user-bubble);color:#071029;border-bottom-right-radius:6px;border-bottom-left-radius:12px;border-top-right-radius:12px}
    .msg.ai{margin-right:auto;background: linear-gradient(180deg, rgba(0,240,255,0.12), rgba(0,198,182,0.08));color:#001a1b;position:relative;border:1px solid rgba(0,240,255,0.08);box-shadow:0 10px 30px rgba(0,200,200,0.06)}
    .typing{display:inline-flex;gap:6px;align-items:flex-end;padding:6px 10px;background:rgba(255,255,255,0.04);border-radius:10px}
    .dot{width:8px;height:8px;border-radius:50%;background:#00fff0;opacity:0.85;animation:typing 900ms infinite}
    .dot:nth-child(2){animation-delay:150ms}.dot:nth-child(3){animation-delay:300ms}
    .compose{display:flex;gap:10px;align-items:center;padding:10px;border-radius:12px;background: rgba(0,0,0,0.25);border:1px solid rgba(255,255,255,0.02)}
    .compose textarea{flex:1;min-height:46px;resize:none;background:transparent;border:0;outline:none;color:#e6fbff;font-size:1rem;padding:6px 8px;font-family:inherit}
    .icon-btn{width:40px;height:40px;border-radius:10px;display:inline-grid;place-items:center;border:0;background: linear-gradient(180deg, rgba(255,255,255,0.012), rgba(255,255,255,0.01));color:var(--muted)}
    .send-btn{height:44px;padding:0 14px;border-radius:10px;border:0;background:var(--accent-gradient);color:#001a1b;font-weight:600;cursor:pointer;box-shadow:0 8px 30px rgba(0,200,200,0.12)}
    .features{margin-top:22px;display:grid;grid-template-columns:1fr;gap:12px}
    .feature-card{display:flex;gap:12px;align-items:center;padding:14px;border-radius:12px;background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);border:1px solid rgba(255,255,255,0.02);transition: transform 220ms ease, box-shadow 220ms ease}
    .feature-card:hover{transform:translateY(-8px);box-shadow:0 18px 36px rgba(2,6,23,0.5)}
    .feature-icon{width:58px;height:58px;border-radius:12px;display:grid;place-items:center;background: linear-gradient(180deg, rgba(0,240,255,0.06), rgba(0,198,182,0.04));font-weight:700;color:#e6fbff}
    .about{margin-top:14px;padding:12px;border-radius:10px;background: rgba(255,255,255,0.01);border:1px solid rgba(255,255,255,0.02);color:var(--muted)}
    footer{margin-top:18px;color:var(--muted);text-align:center;padding:10px 0;font-size:0.92rem}
    @keyframes fadeInUp{to{opacity:1;transform:translateY(0)}}
    @keyframes typing{0%{transform:translateY(0);opacity:0.6}50%{transform:translateY(-6px);opacity:1}100%{transform:translateY(0);opacity:0.6}}
    @media(min-width:880px){.left-hero{display:block;width:220px;flex:0 0 220px}.features{grid-template-columns: repeat(3,1fr)}nav.desktop{display:flex}.hamburger{display:none}}
    @media(max-width:879px){nav.desktop{display:none}}
    .focused-glow{box-shadow:0 6px 30px rgba(0,240,255,0.06);border-color: rgba(0,240,255,0.12)}
    .muted{color:var(--muted);font-size:0.92rem}
    code{background:rgba(255,255,255,0.02);padding:2px 6px;border-radius:6px;color:#dff8fb}
  </style>
</head>
<body>

  <header>
    <div class="nav-inner" role="navigation" aria-label="Main navigation">
      <div class="brand">
        <div class="logo" title="Neura logo" aria-hidden="true">
          <svg width="28" height="28" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <circle cx="12" cy="12" r="10" stroke="rgba(255,255,255,0.12)" stroke-width="0.5"/>
            <path d="M7 12a5 5 0 0 0 10 0" stroke="white" stroke-opacity="0.12" stroke-width="0.9"/>
            <circle cx="12" cy="6" r="1.6" fill="#00f0ff" />
          </svg>
        </div>
        <h1>Neura</h1>
      </div>

      <nav class="desktop" aria-label="top links">
        <a href="#home">Home</a>
        <a href="#about">About</a>
        <a href="#features">Features</a>
        <a href="#pricing">Pricing</a>
        <a href="#contact">Contact</a>
      </nav>

      <button class="hamburger" aria-expanded="false" aria-controls="mobile-menu" id="hambtn">☰ Menu</button>
    </div>

    <div id="mobile-menu" style="display:none;padding:10px 18px;border-top:1px solid rgba(255,255,255,0.02);">
      <a href="#home" style="display:block;padding:8px 0;color:var(--muted)">Home</a>
      <a href="#about" style="display:block;padding:8px 0;color:var(--muted)">About</a>
      <a href="#features" style="display:block;padding:8px 0;color:var(--muted)">Features</a>
      <a href="#pricing" style="display:block;padding:8px 0;color:var(--muted)">Pricing</a>
      <a href="#contact" style="display:block;padding:8px 0;color:var(--muted)">Contact</a>
    </div>
  </header>

  <main id="home">
    <section class="hero" aria-labelledby="hero-title">
      <div class="title">
        <div style="width:84px;height:84px;border-radius:999px;display:grid;place-items:center;background:radial-gradient(circle at 30% 30%, rgba(0,240,255,0.20), transparent), var(--accent-gradient); box-shadow:0 12px 48px rgba(0,240,255,0.08);">
          <svg width="46" height="46" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <circle cx="12" cy="12" r="10" fill="#001a1b" opacity="0.08"></circle>
            <path d="M12 4v8l4 4" stroke="#e6fbff" stroke-opacity="0.9" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>

        <div style="text-align:left;">
          <h2 id="hero-title">Neura — Intelligent Conversations</h2>
          <p class="muted">A helpful, witty, and reliable AI assistant for your ideas, answers, and creativity. Built with privacy-first defaults and delightful micro-interactions.</p>
        </div>
      </div>
    </section>

    <div class="chat-wrapper" role="region" aria-label="Chat interface">
      <div class="chat-inner">
        <aside class="left-hero" aria-hidden="true">
          <div class="card">
            <h3 style="margin:0 0 8px 0;">Quick Tips</h3>
            <p class="muted" style="margin:0 0 8px 0;">Type a question or ask for a summary. Use Shift+Enter for a newline. Press Enter to send.</p>
            <small class="muted">Session data stays local by default.</small>
          </div>
        </aside>

        <section class="chat-panel" aria-live="polite">
          <div class="messages" id="messages" role="log" aria-live="polite" aria-atomic="false"></div>

          <form id="composeForm" class="compose" onsubmit="return false;" role="search" aria-label="Send a message">
            <textarea id="input" placeholder="Ask Neura anything — summaries, ideas, or quick answers..." aria-label="Message input" rows="1"></textarea>

            <div class="tools" aria-hidden="false">
              <button type="button" class="icon-btn" id="attachBtn" title="Attach (placeholder)">📎</button>
              <button type="submit" class="send-btn" id="sendBtn" title="Send">Send</button>
            </div>
          </form>
        </section>
      </div>

      <div style="margin-top:16px;">
        <section id="features" class="features" aria-label="Key features">
          <div class="feature-card" role="article" aria-label="Instant Answers">
            <div class="feature-icon">⚡</div>
            <div><strong>Instant Answers</strong><div class="muted">Fast, concise answers tuned for clarity and accuracy.</div></div>
          </div>

          <div class="feature-card" role="article" aria-label="Creative Ideas">
            <div class="feature-icon">🎨</div>
            <div><strong>Creative Ideas</strong><div class="muted">Prompt riffs, brainstorms, scripts, and more — with personality.</div></div>
          </div>

          <div class="feature-card" role="article" aria-label="Smart Search">
            <div class="feature-icon">🔎</div>
            <div><strong>Smart Search</strong><div class="muted">Context-aware search across your session and optional cloud logs.</div></div>
          </div>
        </section>

        <section id="about" class="about" aria-labelledby="about-title">
          <h3 id="about-title" style="margin-top:0;">About Neura</h3>
          <p style="margin:0 0 6px 0;">Neura speaks with a helpful, witty, and reliable voice — concise when needed, playful when appropriate. It's designed to assist you in thinking, creating, and solving problems.</p>
          <p style="margin:0;" class="muted"><strong>Privacy:</strong> Local session data + opt-in cloud logs.</p>
        </section>
      </div>
    </div>

    <footer>
      <div>© <span id="year"></span> Neura • Built with a minimalist, futuristic UI</div>
    </footer>
  </main>

  <script>
    /* ============================
       Configuration
       ============================
       IMPORTANT: This embeds your OpenAI API key in the client.
       For production, NEVER put secret keys in frontend code.
    */
    const OPENAI_API_KEY = "sk-abcdef1234567890abcdef1234567890abcdef12";
    const MODEL = "gpt-4o-mini"; // using gpt-4o-mini as requested

    /* ============================
       DOM refs & helpers
       ============================ */
    const messagesEl = document.getElementById('messages');
    const inputEl = document.getElementById('input');
    const sendBtn = document.getElementById('sendBtn');
    const hambtn = document.getElementById('hambtn');
    const mobileMenu = document.getElementById('mobile-menu');
    document.getElementById('year').textContent = new Date().getFullYear();

    hambtn?.addEventListener('click', () => {
      const open = hambtn.getAttribute('aria-expanded') === 'true';
      hambtn.setAttribute('aria-expanded', String(!open));
      mobileMenu.style.display = open ? 'none' : 'block';
    });

    function timeNow(){
      const d = new Date();
      return d.getHours().toString().padStart(2,'0') + ':' + d.getMinutes().toString().padStart(2,'0');
    }
    function scrollMessages(){ messagesEl.scrollTop = messagesEl.scrollHeight; }

    function sanitize(html){
      const tmp = document.createElement('div');
      tmp.textContent = html;
      return tmp.innerHTML.replace(/\n/g,'<br>');
    }

    function createMessageEl({who='ai', text='', status='delivered', showMeta=true}) {
      const wrapper = document.createElement('div');
      wrapper.className = 'msg ' + (who === 'user' ? 'user' : 'ai');
      const content = document.createElement('div');
      content.className = 'content';
      content.innerHTML = sanitize(text);
      wrapper.appendChild(content);

      if (showMeta) {
        const meta = document.createElement('div');
        meta.className = 'meta';
        const ts = document.createElement('span');
        ts.className = 'ts';
        ts.textContent = timeNow();
        meta.appendChild(ts);

        const st = document.createElement('span');
        st.className = 'status';
        st.style.marginLeft = '8px';
        st.textContent = (status === 'sending') ? 'sending...' : status;
        meta.appendChild(st);

        wrapper.appendChild(meta);
      }
      return wrapper;
    }

    function createTypingEl(){
      const el = document.createElement('div');
      el.className = 'msg ai typing-bubble';
      el.innerHTML = '<div class="typing"><span class="dot"></span><span class="dot"></span><span class="dot"></span></div>';
      return el;
    }

    /* ============================
       OpenAI call (Chat Completions)
       Non-streaming variant:
       - Sends a single user message.
       - Receives full reply and renders it.
       Note: This frontend call includes the API key (exposed).
    ============================ */

    async function callOpenAIChat(message, signal) {
      // Build the Chat Completions request body
      const body = {
        model: MODEL,
        messages: [
          { role: "system", content: "You are Neura, a helpful, witty, and reliable AI assistant. Keep responses concise but useful." },
          { role: "user", content: message }
        ],
        max_tokens: 800,
        temperature: 0.7
      };

      const resp = await fetch("https://api.openai.com/v1/chat/completions", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "Authorization": "Bearer " + OPENAI_API_KEY
        },
        body: JSON.stringify(body),
        signal
      });

      if (!resp.ok) {
        const text = await resp.text().catch(()=>"");
        throw new Error("OpenAI error: " + resp.status + " " + resp.statusText + " " + text);
      }

      const data = await resp.json();
      // Chat completions returns choices array
      if (!data.choices || !data.choices.length) {
        throw new Error("No choices returned from OpenAI");
      }
      const content = data.choices[0].message?.content ?? data.choices[0].text ?? "";
      return content.trim();
    }

    /* ============================
       sendMessage function
       ============================ */
    async function sendMessage(message){
      if (!message || !message.trim()) return;

      // render user message
      const userEl = createMessageEl({who:'user', text:message, status:'sending'});
      messagesEl.appendChild(userEl);
      scrollMessages();

      // show typing indicator
      const typingEl = createTypingEl();
      messagesEl.appendChild(typingEl);
      scrollMessages();

      // small UI flash
      sendBtn.classList.add('focused-glow');
      setTimeout(()=> sendBtn.classList.remove('focused-glow'), 260);

      // Prepare abort controller for timeout
      const controller = new AbortController();
      const timeoutMs = 20000; // 20s
      const to = setTimeout(() => controller.abort(), timeoutMs);

      try {
        const reply = await callOpenAIChat(message, controller.signal);

        // remove typing, show reply
        if (messagesEl.contains(typingEl)) messagesEl.removeChild(typingEl);

        const aiEl = createMessageEl({who:'ai', text: reply, status:'delivered'});
        messagesEl.appendChild(aiEl);

        // update user status
        const userStatus = userEl.querySelector('.status');
        if (userStatus) userStatus.textContent = 'delivered';

      } catch (err) {
        // remove typing if present
        try { if (messagesEl.contains(typingEl)) messagesEl.removeChild(typingEl); } catch(e){}

        // Show helpful error reply and provide retry
        const errMsg = 'Unable to reach OpenAI: ' + (err && err.message ? err.message : 'unknown');
        const aiEl = createMessageEl({who:'ai', text: "⚠️ " + errMsg, status:'error'});
        messagesEl.appendChild(aiEl);

        const retryWrap = document.createElement('div');
        retryWrap.style.marginTop = '8px';
        const retryBtn = document.createElement('button');
        retryBtn.textContent = 'Retry';
        retryBtn.className = 'icon-btn';
        retryBtn.onclick = () => {
          messagesEl.removeChild(aiEl);
          sendMessage(message);
        };
        retryWrap.appendChild(retryBtn);
        aiEl.appendChild(retryWrap);

        const userStatus = userEl.querySelector('.status');
        if (userStatus) userStatus.textContent = 'failed';
      } finally {
        clearTimeout(to);
        try { controller.abort(); } catch(e){}
        scrollMessages();
      }
    }

    /* ============================
       Input handling: Enter to send, Shift+Enter newline
       ============================ */
    function autoResize(el){ el.style.height = 'auto'; el.style.height = (el.scrollHeight) + 'px'; }
    inputEl.addEventListener('input', () => autoResize(inputEl));

    inputEl.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault();
        const text = inputEl.value.trim();
        if (!text) return;
        inputEl.value = '';
        autoResize(inputEl);
        sendMessage(text);
      }
    });

    sendBtn.addEventListener('click', (ev) => {
      ev.preventDefault();
      const text = inputEl.value.trim();
      if (!text) return;
      inputEl.value = '';
      autoResize(inputEl);
      sendMessage(text);
    });

    inputEl.addEventListener('focus', () => inputEl.parentElement.classList.add('focused-glow'));
    inputEl.addEventListener('blur', () => inputEl.parentElement.classList.remove('focused-glow'));

    window.addEventListener('load', () => {
      const welcome = createMessageEl({who:'ai', text:'Hello! I’m Neura — how can I help today?', status:'delivered'});
      messagesEl.appendChild(welcome);
      scrollMessages();
    });
  </script>
</body>
</html>
